"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(exports,{composePreHandler:()=>c,composeHandler:()=>d});const a=require("./utils"),b=Object.freeze({headers:{"Content-Type":"application/json"}}),c=async(c,d,e)=>{for(let f of c){let g=f(d,e);if(g=(0,a.isPromise)(g)?await g:g)switch(typeof g){case"string":return new Response(g,{headers:d.responseHeader});case"object":try{return new Response(JSON.stringify(g),Object.assign(b,{headers:d.responseHeader}))}catch(h){throw new h}case"function":let i=g;for(let[j,k]of Object.entries(d.responseHeader))i.headers.append(j,k);return i;case"number":case"boolean":return new Response(g.toString(),{headers:d.responseHeader})}}},d=(a,b)=>[a,b]
//# sourceMappingURL=handler.js.map