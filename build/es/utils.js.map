{"version":3,"sources":["../../src/utils.ts"],"sourcesContent":["import type { Hook, RegisterHook } from './types'\n\nexport const parseHeader = (headers: Headers) => {\n    const parsed: Record<string, any> = {}\n\n    for (let [key, value] of headers.entries()) parsed[key] = value\n\n    return parsed\n}\n\nexport const concatArrayObject = <T>(a: T[], b: T | T[] | undefined): T[] =>\n    b ? a.concat(b) : a\n\nexport const mergeHook = (a: Hook, b?: Hook | RegisterHook): Hook<any> => ({\n    onRequest: concatArrayObject(a?.onRequest, b?.onRequest) ?? [],\n    transform: concatArrayObject(a?.transform, b?.transform) ?? [],\n    preHandler: concatArrayObject(a?.preHandler, b?.preHandler) ?? [],\n    schema: {\n        body: concatArrayObject(a?.schema.body, b?.schema?.body) ?? [],\n        header: concatArrayObject(a?.schema.header, b?.schema?.header) ?? [],\n        query: concatArrayObject(a?.schema.query, b?.schema?.query) ?? [],\n        params: concatArrayObject(a?.schema.params, b?.schema?.params) ?? []\n    }\n})\n\nexport const isPromise = (response: any) => typeof response?.then === 'function'\n\nexport const clone = <T extends Object = Object>(aObject: T): T => {\n    let bObject = Array.isArray(aObject) ? [] : {}\n\n    let value: Partial<T>\n    for (const key in aObject) {\n        value = aObject[key]\n\n        bObject[key as any] =\n            typeof value === 'object' ? clone(value as T) : value\n    }\n\n    return bObject as T\n}\n"],"names":["parseHeader","headers","parsed","key","value","entries","concatArrayObject","a","b","concat","mergeHook","onRequest","transform","preHandler","schema","body","header","query","params","isPromise","response","then","clone","aObject","bObject","Array","isArray"],"mappings":"AAEA,OAAO,MAAMA,WAAW,CAAG,AAACC,CAAgB,EAAK,CAC7C,IAAMC,CAAM,CAAwB,EAAE,AAEtC,KAAK,GAAI,CAACC,CAAG,CAAEC,CAAK,CAAC,GAAIH,CAAO,CAACI,OAAO,EAAE,CAAEH,CAAM,CAACC,CAAG,CAAC,CAAGC,CAAK,AAE/D,QAAOF,CAAM,CAChB,AAED,QAAO,MAAMI,iBAAiB,CAAG,CAAIC,CAAM,CAAEC,CAAsB,GAC/DA,CAAC,CAAGD,CAAC,CAACE,MAAM,CAACD,CAAC,CAAC,CAAGD,CAAC,AAEvB,QAAO,MAAMG,SAAS,CAAG,CAACH,CAAO,CAAEC,CAAuB,QAKVA,CAAS,CACLA,CAAS,CACXA,CAAS,CACPA,CAAS,AARa,OAAC,CACvEG,SAAS,CAAEL,iBAAiB,CAACC,MAAAA,CAAC,AAAW,CAAZA,KAAAA,CAAY,CAAZA,CAAC,CAAEI,SAAS,CAAEH,MAAAA,CAAC,AAAW,CAAZA,KAAAA,CAAY,CAAZA,CAAC,CAAEG,SAAS,CAAC,EAAI,EAAE,CAC9DC,SAAS,CAAEN,iBAAiB,CAACC,MAAAA,CAAC,AAAW,CAAZA,KAAAA,CAAY,CAAZA,CAAC,CAAEK,SAAS,CAAEJ,MAAAA,CAAC,AAAW,CAAZA,KAAAA,CAAY,CAAZA,CAAC,CAAEI,SAAS,CAAC,EAAI,EAAE,CAC9DC,UAAU,CAAEP,iBAAiB,CAACC,MAAAA,CAAC,AAAY,CAAbA,KAAAA,CAAa,CAAbA,CAAC,CAAEM,UAAU,CAAEL,MAAAA,CAAC,AAAY,CAAbA,KAAAA,CAAa,CAAbA,CAAC,CAAEK,UAAU,CAAC,EAAI,EAAE,CACjEC,MAAM,CAAE,CACJC,IAAI,CAAET,iBAAiB,CAACC,MAAAA,CAAC,AAAQ,CAATA,KAAAA,CAAS,CAATA,CAAC,CAAEO,MAAM,CAACC,IAAI,CAAEP,MAAAA,CAAC,AAAQ,CAATA,KAAAA,CAAS,CAATA,QAAAA,CAAS,CAATA,CAAC,CAAEM,MAAM,aAATN,CAAS,CAATA,KAAAA,CAAS,CAATA,CAAS,CAAEO,IAAI,AAAN,CAAO,EAAI,EAAE,CAC9DC,MAAM,CAAEV,iBAAiB,CAACC,MAAAA,CAAC,AAAQ,CAATA,KAAAA,CAAS,CAATA,CAAC,CAAEO,MAAM,CAACE,MAAM,CAAER,MAAAA,CAAC,AAAQ,CAATA,KAAAA,CAAS,CAATA,QAAAA,CAAS,CAATA,CAAC,CAAEM,MAAM,aAATN,CAAS,CAATA,KAAAA,CAAS,CAATA,CAAS,CAAEQ,MAAM,AAAR,CAAS,EAAI,EAAE,CACpEC,KAAK,CAAEX,iBAAiB,CAACC,MAAAA,CAAC,AAAQ,CAATA,KAAAA,CAAS,CAATA,CAAC,CAAEO,MAAM,CAACG,KAAK,CAAET,MAAAA,CAAC,AAAQ,CAATA,KAAAA,CAAS,CAATA,QAAAA,CAAS,CAATA,CAAC,CAAEM,MAAM,aAATN,CAAS,CAATA,KAAAA,CAAS,CAATA,CAAS,CAAES,KAAK,AAAP,CAAQ,EAAI,EAAE,CACjEC,MAAM,CAAEZ,iBAAiB,CAACC,MAAAA,CAAC,AAAQ,CAATA,KAAAA,CAAS,CAATA,CAAC,CAAEO,MAAM,CAACI,MAAM,CAAEV,MAAAA,CAAC,AAAQ,CAATA,KAAAA,CAAS,CAATA,QAAAA,CAAS,CAATA,CAAC,CAAEM,MAAM,aAATN,CAAS,CAATA,KAAAA,CAAS,CAATA,CAAS,CAAEU,MAAM,AAAR,CAAS,EAAI,EAAE,CACvE,CACJ,AAAC,CAAA,AAEF,QAAO,MAAMC,SAAS,CAAG,AAACC,CAAa,EAAK,AAA0B,UAAU,EAApC,MAAOA,CAAAA,MAAAA,CAAQ,AAAM,CAAdA,KAAAA,CAAc,CAAdA,CAAQ,CAAEC,IAAI,CAAA,AAAe,AAEhF,QAAO,MAAMC,KAAK,CAAG,AAA4BC,CAAU,EAAQ,CAC/D,IAAIC,CAAO,CAAGC,KAAK,CAACC,OAAO,CAACH,CAAO,CAAC,CAAG,EAAE,CAAG,EAAE,CAE1CnB,CAAK,AAAY,AAFyB,AAG9C,KAAK,IAAMD,CAAG,IAAIoB,CAAO,CACrBnB,CAAK,CAAGmB,CAAO,CAACpB,CAAG,CAAC,CAEpBqB,CAAO,CAACrB,CAAG,CAAQ,CACf,AAAiB,QAAQ,EAAzB,OAAOC,CAAK,AAAa,CAAGkB,KAAK,CAAClB,CAAK,CAAM,CAAGA,CAAK,AAC5D,AAED,QAAOoB,CAAO,AAAK,CACtB"}