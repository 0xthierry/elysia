{"version":3,"sources":["../src/utils.ts"],"sourcesContent":["import type { Hook, RegisterHook } from './types'\n\nexport const parseHeader = (headers: Headers) => {\n    const parsed: Record<string, any> = {}\n\n    for (let [key, value] of headers.entries()) parsed[key] = value\n\n    return parsed\n}\n\nexport const concatArrayObject = <T>(a: T[], b: T | T[] | undefined): T[] =>\n    b ? a.concat(b) : a\n\nexport const mergeHook = (a: Hook, b?: Hook | RegisterHook): Hook<any> => ({\n    onRequest: concatArrayObject(a?.onRequest, b?.onRequest) ?? [],\n    transform: concatArrayObject(a?.transform, b?.transform) ?? [],\n    preHandler: concatArrayObject(a?.preHandler, b?.preHandler) ?? [],\n    schema: {\n        body: concatArrayObject(a?.schema.body, b?.schema?.body) ?? [],\n        header: concatArrayObject(a?.schema.header, b?.schema?.header) ?? [],\n        query: concatArrayObject(a?.schema.query, b?.schema?.query) ?? [],\n        params: concatArrayObject(a?.schema.params, b?.schema?.params) ?? []\n    }\n})\n\nexport const isPromise = (response: any) => typeof response?.then === 'function'\n\nexport const clone = <T extends Object = Object>(aObject: T): T => {\n    let bObject = Array.isArray(aObject) ? [] : {}\n\n    let value: Partial<T>\n    for (const key in aObject) {\n        value = aObject[key]\n\n        bObject[key as any] =\n            typeof value === 'object' ? clone(value as T) : value\n    }\n\n    return bObject as T\n}\n"],"names":["parseHeader","concatArrayObject","mergeHook","isPromise","clone","headers","parsed","key","value","entries","a","b","concat","onRequest","transform","preHandler","schema","body","header","query","params","response","then","aObject","bObject","Array","isArray"],"mappings":"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"}